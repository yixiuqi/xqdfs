<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="themes/ui/easyui.css">
    <link rel="stylesheet" type="text/css" href="themes/icon.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.easyui.min.js"></script>
</head>
<body class="easyui-layout">
    <div data-options="region:'north'" style="width:100%;height:50px;padding:0px 0px 0px 0px;">
    	<img src="image/logo.png"/>
    </div>
    <div data-options="region:'west',split:true,title:'导航列表'" style="width:230px;">
        <div class="easyui-accordion" data-options="fit:true,border:false">
            <div title="存储管理" data-options="iconCls:'icon-search'" style="padding:10px;overflow:auto">
                <ul id="tree" class="easyui-tree">
                    <li data-options="iconCls:'icon-ok',title:'存储节点配置',page:'storage.htm',isOpen:1"><span>存储节点配置</span></li>
                    <li data-options="iconCls:'icon-ok',title:'存储组配置',page:'group.htm',isOpen:1"><span>存储组配置</span></li>
                    <li data-options="iconCls:'icon-ok',title:'卷分配策略[顺序分配]',page:'alloc_order.htm',isOpen:1"><span>卷分配策略[顺序分配]</span></li>
                    <li data-options="iconCls:'icon-ok',title:'卷回收策略[最老时间]',page:'clear_time_old.htm',isOpen:1"><span>卷回收策略[最老时间]</span></li>
                    <li data-options="iconCls:'icon-ok',title:'卷压缩策略[删除比超限]',page:'compact_excess_threshold.htm',isOpen:1"><span>卷压缩策略[删除比超限]</span></li>
                    <li data-options="iconCls:'icon-ok',title:'主机信息',page:'leader.htm',isOpen:1"><span>主机信息</span></li>
                    <li data-options="iconCls:'icon-ok',title:'图片文件上传',page:'opt_upload.htm',isOpen:1"><span>图片文件上传</span></li>
                    <li data-options="iconCls:'icon-ok',title:'图片文件下载',page:'opt_get.htm',isOpen:1"><span>图片文件下载</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div data-options="region:'center',iconCls:'icon-ok'">
        <div id="tabMain" class="easyui-tabs" data-options="fit:true,border:false,plain:true">
            <div title="Home">
                <iframe width="100%" height="100%" frameborder="0"  src="apidoc/index.html"></iframe>
            </div>
        </div>
    </div>
</body>
<script>
    function tabAdd(text,path,type){
        if ($('#tabMain').tabs('exists',text)){ 
            $('#tabMain').tabs('select',text); 
        } 
        else{
            if(type==0){
                $('#tabMain').tabs('add',{
                    title: text,
                    selected: true,
                    closable:true,
                    href:path+'?id='+Math.random()
                });
            }
            else{
                var rand = Math.random();
                var content='<iframe frameborder="0" width="100%" height="100%" src="'+path+'?id='+rand+'"></iframe>';
                
                $('#tabMain').tabs('add',{
                    title: text,
                    selected: true,
                    closable:true,
                    content:content
                });	
            }
        }
    }
      
    $('#tree').tree({
        onClick : function(node) {
            tabAdd(node.title,node.page,node.isOpen);
        }
    }); 
</script>
</html>